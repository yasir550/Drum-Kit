<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>DRUM KIT</title>
</head>
<body>
    
    <!-- container -->
    <div class="container">

        <h1>DRUM KIT</h1>
        
        <!-- keys -->
        <div class="keys">
        

            <div class="key w" id="key_press" data-key="87">
     
             <kbd>W</kbd>
            </div>
     
            <div class="key a" id="key_press" data-key="65">
     
             <kbd>A</kbd>
          
            </div>
     
            <div class="key s" id="key_press" data-key="83">
     
             <kbd>S</kbd>
             
            </div>
     
            <div class="key d" id="key_press" data-key="68">
     
             <kbd>D</kbd>
             
            </div>
     
            <div class="key j" id="key_press" data-key="74">
     
             <kbd>J</kbd>
         
            </div>
     
            <div class="key k" id="key_press" data-key="75">
     
             <kbd>K</kbd>
             
            </div>
     
            <div class="key l" id="key_press" data-key="76">
     
             <kbd>L</kbd>
             
            </div>
     
         </div>
         <!-- keys -->
          
         <!-- sounds of different tools of drum kit -->
         <audio data-key="87" src="sounds/tom-1.mp3"></audio>
         <audio data-key="65" src="sounds/tom-2.mp3"></audio>
         <audio data-key="83" src="sounds/tom-3.mp3"></audio>
         <audio data-key="68" src="sounds/tom-4.mp3"></audio>
         <audio data-key="74" src="sounds/crash.mp3"></audio>
         <audio data-key="75" src="sounds/kick-bass.mp3"></audio>
         <audio data-key="76" src="sounds/snare.mp3"></audio>
    </div>
    <!-- container -->
    

     <!-- script starts here -->
    <script>
        
        // function to capture specified key that is being pressedd
        window.addEventListener("keydown",function(e)
        {
            var audio=document.querySelector(`audio[data-key="${e.keyCode}"]`);
            var key=document.querySelector(`.key[data-key="${e.keyCode}"]`);
            if(!audio) return;
            audio.currentTime=0;
            audio.play();
            key.classList.add("playing");
            
        });
           
            // function to make specified sound on specified key press 
            function makeSound(e)
        { 
            let code;
            if (e.keyCode) {
    
            code = e.keyCode;
            } else {
    
            code = this.dataset.key;
            }
            var audio=document.querySelector(`audio[data-key="${code}"]`);
            var key=document.querySelector(`.key[data-key="${code}"]`);
            if(!audio) return;
            audio.currentTime=0;
            audio.play();
            key.classList.add("playing");
            
        };
         let key_press = document.querySelectorAll(".key");
        for(let i=0, key; key=key_press[i]; i++)
        {
          key.addEventListener("click",makeSound)
        }    
        
        var keys = document.querySelectorAll(".key");
        // function to remove transion from the div after key has been released
        keys.forEach(key => key.addEventListener("transitionend", removeTransition));
        function removeTransition(e)
        {
            if(e.propertyName !== "transform")
            return;
            this.classList.remove("playing");
        }
        </script>

</body>


</html>